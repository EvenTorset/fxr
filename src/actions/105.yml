type: 105
name: ParticleAccelerationPartialFollow
slot: ParticleMovement
meta:
  isAppearance: false
  isParticle: false
desc:
  en-US: |
    Controls the movement of particles. This extends {@link ActionType.ParticleAccelerationRandomTurns ParticleAccelerationRandomTurns} with the ability to make particles partially follow the parent node.
  zh-CN: |
    控制粒子的移动。扩展了 {@link ActionType.ParticleAccelerationRandomTurns ParticleAccelerationRandomTurns}，增加了使粒子部分跟随父节点的能力。
properties:
  gravity:
    type: ScalarValue
    argument: ParticleAge
    scale: true
    time: sq
    desc:
      en-US: |
        Controls the acceleration of the particle along the global Y-axis. Positive values will make the particles go down, and negative values will go up.

        Unless it's left at 0, this changes the current direction of the particles, which can affect various other things, for example the rotation of {@link ActionType.Line Line} and {@link ActionType.QuadLine QuadLine} particles, and the direction of this action's {@link acceleration}. It does not affect the particles' {@link InitialDirection initial direction}.
      zh-CN: |
        控制粒子沿全局 Y 轴的加速度。正值使粒子下降，负值使粒子上升。

        除非保持为 0，否则这会改变粒子的当前方向，这可能会影响其他方面，例如 {@link ActionType.Line Line} 和 {@link ActionType.QuadLine QuadLine} 粒子的旋转，以及此动作 {@link acceleration 加速度} 的方向。它不影响粒子的 {@link InitialDirection 初始方向}。
  acceleration:
    type: ScalarValue
    argument: ParticleAge
    scale: true
    time: sq
    desc:
      en-US: |
        The particles' acceleration in their current direction, which is usually their {@link InitialDirection initial direction}, but can be changed over time by other things, for example this action's {@link gravity}.
      zh-CN: |
        粒子在当前方向上的加速度。通常是它们的 {@link InitialDirection 初始方向}，但也可能随时间被其他因素改变，例如此动作的 {@link gravity 重力}。
  accelerationMultiplier:
    type: ScalarValue
    default: 1
    argument: ParticleAge
    desc:
      en-US: |
        Multiplier for {@link acceleration}.
      zh-CN: |
        {@link acceleration} 的乘数。
  maxTurnAngle:
    type: ScalarValue
    argument: ParticleAge
    desc:
      en-US: |
        The particles will turn a random amount based on this value at intervals defined by {@link turnInterval}.

        This turning affects the particles' current direction, which can affect various other things, for example this action's {@link acceleration}.
      zh-CN: |
        粒子将根据 {@link turnInterval} 定义的间隔，基于此值随机转向一定角度。

        此转向会影响粒子的当前方向，进而影响其他方面，例如此动作的 {@link acceleration 加速度}。
  followFactor:
    type: ScalarValue
    argument: ParticleAge
    desc:
      en-US: |
        Controls how well the particles should follow the parent node if they are not attached. At 0, the particles will not follow at all. At 1, the particles will follow perfectly, as if attached to the parent node. Negative values will make the particles move in the opposite direction compared to the parent node. Values greater than 1 will make the particles exaggerate the parent node's movement.
      zh-CN: |
        控制粒子在未附着时跟随父节点的程度。0 为完全不跟随。1 为完全跟随（如同附着到父节点）。负值使粒子向父节点相反的方向移动。大于 1 的值使粒子夸大父节点的移动。
    see:
      - followRotation
  unk_ds3_f1_0:
    field: float
  turnInterval:
    field: int
    lib: float
    time: inv
    desc:
      en-US: |
        The particles will turn a random amount based on {@link maxTurnAngle} at this interval. The units are seconds, but due to how the field that stores this value works, the value will be rounded to the nearest 0.02 seconds.

        This turning affects the particles' current direction, which can affect various other things, for example this action's {@link acceleration}.
      zh-CN: |
        粒子将以此间隔基于 {@link maxTurnAngle} 随机转向。单位为秒，但由于存储此值的字段的工作方式，该值将四舍五入到最接近的 0.02 秒。

        此转向会影响粒子的当前方向，进而影响其他方面，例如此动作的 {@link acceleration 加速度}。
  followRotation:
    field: bool
    default: true
    desc:
      en-US: |
        Disabling this will make {@link followFactor} only affect translation and not rotation.
      zh-CN: |
        禁用此项将使 {@link followFactor} 仅影响平移而不影响旋转。
games:
  DS3:
    fields1:
      - unk_ds3_f1_0
      - turnInterval
      - followRotation
    properties1:
      - gravity
      - acceleration
      - accelerationMultiplier
      - maxTurnAngle
      - followFactor
  SDT: DS3
  ER: DS3
  AC6: DS3
  NR: DS3
